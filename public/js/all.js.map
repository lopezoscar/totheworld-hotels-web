{"version":3,"sources":["app.js","config.js","services/auth/AuthService.js","services/hotels/HotelService.js","components/hotels/nav/nav.js","components/hotels/results/HotelController.js","components/hotels/filters/name-filter/name-filter.js","components/hotels/results/cluster/cluster.js"],"names":["hotelsResultsApp","angular","module","resultsModule","hotelServiceModules","hotelFilters","config","$interpolateProvider","startSymbol","endSymbol","run","$rootScope","$cookies","put","window","token","factory","request","headers","get","$routeProvider","$locationProvider","$httpProvider","html5Mode","interceptors","push","constant","api","$http","EnvironmentConfig","auth","method","url","getHotelRate","directive","restrict","replace","templateUrl","scope","controller","$scope","menues","link","element","attrs","controllers","HotelService","this","then","result","console","log","hotels","data","catch","err","init","_this","filter","hotelName","$watch","newVal","oldVal","opts","search","key","length","hotel","stars","i"],"mappings":"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","file":"all.js","sourcesContent":["'use strict';\n\n\nvar hotelsResultsApp = angular.module('hotelsResultsApp',['resultsModule','HotelServicesModule','HotelFilterModule','ngCookies','ngRoute']);\nvar resultsModule = angular.module('resultsModule',['app.config']);\nvar hotelServiceModules = angular.module('HotelServicesModule',[]);\nvar hotelFilters = angular.module('HotelFilterModule',[]);\n\nhotelsResultsApp.config(['$interpolateProvider',\n    function($interpolateProvider) {\n        $interpolateProvider.startSymbol('[[').endSymbol(']]');\n    }]);\n\nhotelsResultsApp.run([\"$rootScope\",\"$cookies\", function ($rootScope,$cookies) {\n\n    // AuthService.auth().then(function (result) {\n        $cookies.put('token',window.token);//TODO Check if the token exists and it is correct.\n    // }, function (err) {\n    //     console.log(\"No se encuentra al usuario\", err);\n    // });\n\n}]);\n//\nhotelsResultsApp.factory('httpRequestInterceptor', [\"$cookies\", function ($cookies) {\n    return {\n        request: function (config) {\n            config.headers['Authorization'] = $cookies.get('token');\n            return config;\n        }\n    };\n}]);\n\nhotelsResultsApp.config(['$routeProvider', '$locationProvider', \"$httpProvider\", function ($routeProvider, $locationProvider, $httpProvider) {\n    $locationProvider.html5Mode(true);\n    $httpProvider.interceptors.push('httpRequestInterceptor');\n}]);","angular.module(\"app.config\", [])\n.constant(\"EnvironmentConfig\", {\"api\":\"http://localhost:9090\"});\n","var hotelServiceModules = angular.module('HotelServicesModule');\n\nhotelServiceModules.factory('AuthService',['$http','EnvironmentConfig',function($http,EnvironmentConfig){\n\n    return {\n        auth: function(){\n            return $http({\n                method:'GET',\n                url:\"/v2/auth\"\n            });\n        }\n    }\n}]);","\nvar hotelServiceModules = angular.module('HotelServicesModule');\n\nhotelServiceModules.factory('HotelService',['$http','EnvironmentConfig',function($http,EnvironmentConfig){\n    \n    return {\n        getHotelRate: function(){\n            return $http({\n                method:'GET',\n                url:EnvironmentConfig.api + \"/v1/hotels\"\n            })\n        }\n    }\n}]);","var hotelFilters = angular.module('hotelsResultsApp');\n\nhotelFilters.directive('nav',[function() {\n    return {\n        restrict:'EA'\n        ,replace:true\n        ,templateUrl:'/app/components/hotels/nav/nav.html'\n        ,scope:{\n\n        }\n        ,controller: ['$scope', function($scope){\n            $scope.menues = [\n                'Hoteles',\n                'Vuelos',\n                'Vuelo + Hotel',\n                'Paquetes',\n                'Disney',\n                'Escapadas',\n                'Seguros',\n                'Autos',\n                'Cruceros',\n                'OFERTAS',\n                'MÃ¡s'\n            ]\n        }]\n        /**\n         * http://stackoverflow.com/questions/15676614/directive-link-vs-compile-vs-controller\n         **/\n        ,link: ['scope', 'element', 'attrs', 'controllers', function(scope, element, attrs, controllers) {\n\n        }]\n    }\n}]);","var resultsModule = angular.module('resultsModule');\n\nresultsModule.controller('HotelController', ['$scope', 'HotelService', function ($scope, HotelService) {\n\n    this.getHotelRate = function () {\n        \n        HotelService.getHotelRate()\n            .then(function (result) {\n                console.log(result);\n                $scope.hotels = result.data.hotels || [];\n            })\n            .catch(function (err) {\n                console.log(err);\n            })\n    };\n\n    this.init = function () {\n        this.getHotelRate();\n    }\n\n}]);","var hotelFilters = angular.module('HotelFilterModule');\n\nhotelFilters.directive('nameFilter',['HotelService',function(HotelService) {\n    return {\n        restrict:'E'\n        ,replace:true\n        ,templateUrl:'/app/components/hotels/filters/name-filter/name-filter.html'\n        ,scope:{\n\n        }\n        ,controller: ['$scope',function($scope) {\n            var _this = this;\n            this.filter = function(hotelName) {\n                //Call to HotelService\n            }\n\n            $scope.$watch('search', function (newVal, oldVal) {\n                var opts = {};\n                if ($scope.search !== null && typeof $scope.search !== \"undefined\") {\n                    opts[$scope.key] = $scope.search;\n                }\n                if (typeof newVal !== \"undefined\" && newVal !== null && newVal.length > 3) {\n                    _this.filter(opts);\n                }\n                if (oldVal !== null && newVal == \"\") {\n                    _this.filter(opts);//Cuando no hay nada y vuelvo al inicio\n                }\n            }, true);\n        }]\n        /**\n         * http://stackoverflow.com/questions/15676614/directive-link-vs-compile-vs-controller\n         **/\n        ,link: ['scope', 'element', 'attrs', 'controllers', function(scope, element, attrs, controllers) {\n\n        }]\n    }\n}]);","\nvar resultsModule = angular.module('resultsModule');\n\nresultsModule.directive('cluster',[function(){\n    return {\n        restrict:'E'\n        ,replace:true\n        ,templateUrl:'/app/components/hotels/results/cluster/cluster.html'\n        ,scope:{\n            hotel:'='\n        }\n        ,controller: function($scope){\n            console.log($scope.hotel);\n            $scope.stars = [];\n            for(var i = 0; i < $scope.hotel.stars; i++){\n                $scope.stars.push(i);\n            }\n\n        }\n        /**\n         * http://stackoverflow.com/questions/15676614/directive-link-vs-compile-vs-controller\n         **/\n        ,link: ['scope', 'element', 'attrs', 'controllers', function(scope, element, attrs, controllers) {\n            // Best Practice: use controller when you want to expose an API to other directives. Otherwise use link.\n            // https://docs.angularjs.org/guide/directive\n\n            scope.stars = [];\n            for(var i = 0; i < scope.hotel.stars; i++){\n                scope.stars.push(i);\n            }\n\n            // console.log(scope.stars);\n        }]\n    }\n}]);\n\n"]}